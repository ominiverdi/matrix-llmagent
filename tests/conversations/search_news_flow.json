{
  "_comment": "Test that web search caches sources for !sources command",
  "description": "Test web search caches sources",
  "timeout_seconds": 300,
  "mode": "agent",
  "steps": [
    {
      "input": "!sources",
      "expect_contains": ["No sources available"],
      "expect_not_contains": []
    },
    {
      "input": "use web_search to find recent news about Python 3.13 release",
      "expect_not_contains": ["failed", "Search failed"],
      "expect_contains": []
    },
    {
      "input": "!sources",
      "expect_contains": ["Sources from last web search"],
      "expect_not_contains": ["No sources available"]
    }
  ]
}
